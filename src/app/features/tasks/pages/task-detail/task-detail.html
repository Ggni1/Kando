<div class="task-detail-layout">
    <app-navbar></app-navbar>

    <main class="detail-container">
        <div class="detail-header-actions">
            <a routerLink="/tasks" class="btn-back">â† Back to Tasks</a>
        </div>

        @if (errorMessage()) {
            <div class="error-notification">{{ errorMessage() }}</div>
        }

        @if (loading()) {
            <div class="loading">Loading task...</div>
        } @else {
            @if (task(); as t) {
                <div class="task-detail-card">
                    <div class="detail-header">
                        <h1>{{ t.title }}</h1>
                        @if (t.tag) {
                            <span class="tag">{{ t.tag }}</span>
                        }
                    </div>
                    <div class="detail-content">
                        <p><strong>ID:</strong> {{ t.id }}</p>
                        <p><strong>Column:</strong> {{ t.column_id }}</p>
                        <p><strong>User:</strong> {{ username() }}</p>
                        <p><strong>Created:</strong> {{ t.created_at | date: 'medium' }}</p>
                    </div>
                    <div class="detail-actions">
                        @if (!isGuest()) {
                            <a [routerLink]="['/tasks', t.id, 'edit']" class="btn-edit">Edit</a>
                        }
                        <a routerLink="/dashboard" class="btn-back-text">Back to Dashboard</a>
                    </div>
                </div>
            } @else {
                <div class="no-task">
                    <p>Task not found</p>
                </div>
            }
        }
    </main>

    <app-footer></app-footer>
</div>
